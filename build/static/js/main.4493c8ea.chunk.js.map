{"version":3,"sources":["components/Person.js","components/Persons.js","components/PersonForm.js","components/Filter.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Person","name","no","handleButtonClick","id","onClick","value","Persons","personsToShow","map","person","number","PersonForm","props","onSubmit","addName","newName","onChange","handleNameChange","newNo","handleNumberChange","type","Filter","searchName","handleSearch","Notification","message","clss","className","baseURL","personService","getAll","axios","get","then","response","data","create","newObject","post","remove","delete","update","put","App","useState","persons","setPersons","setNewName","setNewNo","setSearchName","searchArr","setSearchArr","setMessage","messageClass","setMessageClass","useEffect","nwperson","stMessage","setTimeout","event","target","reg","RegExp","filter","per","test","preventDefault","namethe","find","ele","toLowerCase","namethere","window","confirm","personObj","rtperson","catch","error","n","concat","Number","ReactDOM","render","document","getElementById"],"mappings":"mKAUeA,EANA,SAAC,GAAD,IAAEC,EAAF,EAAEA,KAAKC,EAAP,EAAOA,GAAGC,EAAV,EAAUA,kBAAkBC,EAA5B,EAA4BA,GAA5B,OACX,qCACCH,EADD,IACQC,EAAG,wBAAQG,QAASF,EAAmBG,MAAOF,EAA3C,oBAA8D,2BCW9DG,EAbA,SAAC,GAAD,IAAEC,EAAF,EAAEA,cAAcL,EAAhB,EAAgBA,kBAAhB,OACf,mCACCK,EAAcC,KAAI,SAAAC,GAAM,OACjB,cAAC,EAAD,CACAT,KAAMS,EAAOT,KACbC,GAAIQ,EAAOC,OACXP,GAAIM,EAAON,GACXD,kBAAqBA,GAChBO,EAAOT,YCWLW,EArBI,SAACC,GAAD,OACnB,uBAAMC,SAAUD,EAAME,QAAtB,UACQ,gCACE,0CACC,uBAAOT,MAAOO,EAAMG,QACRC,SAAUJ,EAAMK,sBAG/B,gCACG,4CACC,uBACIZ,MAAOO,EAAMM,MACbF,SAAUJ,EAAMO,wBAGxB,8BACE,wBAAQC,KAAK,SAAb,uBCNKC,EAVA,SAAC,GAAD,IAAEC,EAAF,EAAEA,WAAWC,EAAb,EAAaA,aAAb,OACd,qCACD,uDACA,uBACQlB,MAAOiB,EACPN,SAAUO,QCMDC,EAXI,SAAC,GAAsB,IAApBC,EAAmB,EAAnBA,QAAQC,EAAW,EAAXA,KAC5B,MAAgB,KAAZD,EACK,KAGP,qBAAKE,UAAWD,EAAhB,SACGD,K,gBCNHG,EAAU,eAuBDC,EAFO,CAACC,OAnBR,WAEX,OADgBC,IAAMC,IAAIJ,GACVK,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAiBhBC,OAdf,SAAAC,GAEX,OADgBN,IAAMO,KAAKV,EAASS,GACrBJ,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAYRI,OATtB,SAAApC,GAAE,OAAK4B,IAAMS,OAAN,UAAgBZ,EAAhB,YAA2BzB,KASLsC,OAP7B,SAACJ,EAAUlC,GAExB,OADgB4B,IAAMW,IAAN,UAAad,EAAb,YAAwBzB,GAAMkC,GAC/BJ,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UC8H5BQ,EAzIH,WAAO,IAAD,EACgBC,mBAAS,IADzB,mBACRC,EADQ,KACCC,EADD,OAEgBF,mBAAS,IAFzB,mBAER7B,EAFQ,KAECgC,EAFD,OAGWH,mBAAS,IAHpB,mBAGR1B,EAHQ,KAGD8B,EAHC,OAImBJ,mBAAS,IAJ5B,mBAITtB,EAJS,KAIE2B,EAJF,OAKiBL,mBAAS,IAL1B,mBAKTM,EALS,KAKCC,EALD,OAMaP,mBAAS,IANtB,mBAMTnB,EANS,KAMD2B,EANC,OAOuBR,mBAAS,IAPhC,mBAOTS,EAPS,KAOIC,EAPJ,KAUhBC,qBAAU,WACN1B,EACGC,SACAG,MAAK,SAAAuB,GAAQ,OAAIV,EAAWU,QACjC,IAGJ,IAAMC,EAAY,SAAChC,EAASC,GAC1B0B,EAAW3B,GACX6B,EAAgB5B,GAChBgC,YAAW,WACTN,EAAW,MACV,MAgFG7C,EACW,KAAfe,EACMuB,EACAK,EAEF,OACJ,gCACE,2CACA,cAAC,EAAD,CACQzB,QAAWA,EACXC,KAAQ2B,IAEhB,cAAC,EAAD,CACQ/B,WAAcA,EACdC,aApCS,SAACoC,GAChBV,EAAcU,EAAMC,OAAOvD,OAC3B,IAAMwD,EAAM,IAAIC,OAAOH,EAAMC,OAAOvD,MAAM,KAC1C8C,EAAaN,EAAQkB,QAAO,SAAAC,GAAG,OAAKH,EAAII,KAAKD,EAAIhE,aAmCnD,2CACA,cAAC,EAAD,CACYc,QA7FA,SAAC6C,GAEXA,EAAMO,iBACN,IAGMC,EAHY,SAACtB,EAAQ9B,GAAa,OAAQ8B,EAAQuB,MACpD,SAACC,GAAD,OAASA,EAAIrE,KAAKsE,gBAAgBvD,EAAQuD,iBAE9BC,CAAU1B,EAAQ9B,GAElC,GAAKoD,EAWA,GAAIK,OAAOC,QAAP,UAAkB1D,EAAlB,+DAAwF,CAC/F,IAAM2D,EAAS,2BAAOP,GAAP,IAAezD,OAAOQ,IAErCW,EACSY,OAAOiC,EAAUP,EAAQhE,IACzB8B,MAAK,SAAA0C,GACJ7B,EAAWD,EAAQrC,KAAI,SAAAC,GAAM,OAAIA,EAAON,KAAOgE,EAAQhE,GAAKM,EAASkE,MACrE3B,EAAS,IACTD,EAAW,IACXU,EAAU,qBAAD,OAAsBiB,EAAU1E,MAAO,aAEjD4E,OAAM,SAAAC,GACLpB,EAAU,kBAAD,OAAmBiB,EAAU1E,KAA7B,6CAA6E,SACrF8C,EAAWD,EAAQkB,QAAO,SAAAe,GAAC,OAAEA,EAAE3E,KAAKgE,EAAQhE,eAKrD4C,EAAW,IACXC,EAAS,QA9BA,CACb,IAAM0B,EAAY,CAAC1E,KAAKe,EAAQL,OAAOQ,GACvCW,EACSO,OAAOsC,GACPzC,MAAK,SAAA0C,GACJ7B,EAAWD,EAAQkC,OAAOJ,IAC1B5B,EAAW,IACXC,EAAS,IACTS,EAAU,SAAD,OAAUiB,EAAU1E,MAAO,eA8EpCmB,mBA7CW,SAACwC,GACxBX,EAASW,EAAMC,OAAOvD,QA6CVY,iBAlDS,SAAC0C,GACtBZ,EAAWY,EAAMC,OAAOvD,QAkDZU,QAAWA,EACXG,MAASA,IAErB,yCACA,cAAC,EAAD,CACUX,cAAiBA,EACjBL,kBA1CY,SAACyD,GACzB,IAAMxD,EAAKwD,EAAMC,OAAOvD,MAClBL,EAAO2D,EAAMC,OAAO5D,KACtBwE,OAAOC,QAAP,iBAAyBzE,MAC7B6B,EACOU,OAAOpC,GACPyE,OAAM,SAAAC,GACNpB,EAAU,kBAAD,OAAmBzD,EAAnB,6CAAmE,SAC3E8C,EAAWD,EAAQkB,QAAO,SAAAe,GAAC,OAAEA,EAAE3E,KAAKA,SAE5C2C,EAAWD,EAAQkB,QAAO,SAACtD,GAAD,OAAYA,EAAON,KAAO6E,OAAO7E,e,uBCnG/D8E,IAASC,OAAO,cAAC,EAAD,IAASC,SAASC,eAAe,W","file":"static/js/main.4493c8ea.chunk.js","sourcesContent":["import React from 'react';\n\n\n\nconst Person = ({name,no,handleButtonClick,id}) => (\n    <>\n    {name} {no}<button onClick={handleButtonClick} value={id}>delete</button><br />\n    </>\n    );\n\nexport default Person ;\n","import React from 'react';\nimport Person from \"./Person\";\n\n\nconst Persons =({personsToShow,handleButtonClick}) => (\n<>\n{personsToShow.map(person => \n        <Person \n        name={person.name} \n        no={person.number}\n        id={person.id}\n        handleButtonClick = {handleButtonClick}  \n        key={person.name}/>) }\n</> \n); \n        \n\nexport default Persons;\n","import React  from 'react';\n\nconst PersonForm = (props) => (\n<form onSubmit={props.addName}>\n        <div>\n          <label>name:</label>\n           <input value={props.newName} \n                       onChange={props.handleNameChange}\n                        />\n        </div>\n        <div>\n           <label>number:</label>\n            <input \n                value={props.newNo} \n                onChange={props.handleNumberChange} \n                        /> \n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n);\n\nexport default PersonForm;","import React from 'react';\n\nconst Filter = ({searchName,handleSearch}) =>  ( \n <>\n<label>filter shown with </label> \n<input \n        value={searchName} \n        onChange={handleSearch} \n                                />\n</>\n);\n\nexport default Filter;\n","import React from 'react';\n\nconst Notification = ({ message,clss }) => {\n    if (message === \"\") {\n      return null\n    }\n    return (\n      <div className={clss}>\n        {message}\n      </div>\n    )\n  }\n\n  export default Notification;\n","import axios from 'axios';\n\nconst baseURL = \"/api/persons\";\n\nconst getAll = () => {\n    const promise = axios.get(baseURL);\n    return  promise.then(response => response.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(baseURL, newObject)\n    return request.then(response => response.data)\n  }\n\nconst remove = id =>  axios.delete(`${baseURL}/${id}`);\n\nconst update = (newObject,id) => {\n  const request = axios.put(`${baseURL}/${id}`, newObject)\n  return request.then(response => response.data)\n}    \n      \n  \n\nconst personService = {getAll,create,remove,update}\n\nexport default personService;","import React, { useState,useEffect } from 'react';\nimport Persons from './components/Persons';\nimport PersonForm from './components/PersonForm';\nimport Filter from \"./components/Filter\";\nimport Notification from './components/Notification';\nimport personService from \"./services/persons\";\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]);\n  const [ newName, setNewName ] = useState('');\n  const [ newNo, setNewNo] = useState(\"\");\n  const [searchName,setSearchName] = useState(\"\");\n  const [searchArr,setSearchArr] = useState([]);\n  const [message,setMessage] = useState(\"\");\n  const [messageClass,setMessageClass] = useState(\"\")\n\n\n  useEffect(() => {\n      personService\n        .getAll()\n        .then(nwperson => setPersons(nwperson))\n  },[]);\n \n\nconst stMessage = (message, clss) => {\n  setMessage(message);\n  setMessageClass(clss);\n  setTimeout(() => {\n    setMessage(\"\")\n  }, 5000);\n\n}\n\n\n  const addName = (event) => {\n\n        event.preventDefault();\n        const namethere = (persons,newName) => {return (persons.find(\n            (ele) => ele.name.toLowerCase()===newName.toLowerCase()));\n        }\n        const namethe = namethere(persons,newName);\n\n        if (!namethe){\n        const personObj = {name:newName,number:newNo};\n        personService\n                .create(personObj)\n                .then(rtperson => {\n                  setPersons(persons.concat(rtperson));\n                  setNewName(\"\");\n                  setNewNo(\"\");\n                  stMessage(`Added ${personObj.name}`,\"sucess\");\n                })\n        }\n        else if (window.confirm(`${newName} is already added to the phonebook,replace with a new one?`)) {\n          const personObj = {...namethe,number:newNo};\n          \n          personService\n                  .update(personObj,namethe.id)\n                  .then(rtperson => {\n                    setPersons(persons.map(person => person.id !== namethe.id ? person : rtperson));\n                    setNewNo(\"\");\n                    setNewName(\"\");\n                    stMessage(`Number Changed of ${personObj.name}`,\"sucess\");\n                  })\n                  .catch(error => {\n                    stMessage(`Information of ${personObj.name} has already been removed from the server`,\"error\");\n                     setPersons(persons.filter(n=>n.id!==namethe.id));\n                   });\n                  \n        }\n        else {\n            setNewName(\"\");\n            setNewNo(\"\")\n        }\n\n  }\n\n\n\n  const handleNameChange = (event) => {\n      setNewName(event.target.value);\n  }\n\n  const handleNumberChange = (event) => {\n      setNewNo(event.target.value);\n  }\n\n  const handleSearch = (event) => {\n        setSearchName(event.target.value);\n        const reg = new RegExp(event.target.value,'i');\n        setSearchArr(persons.filter(per =>  reg.test(per.name)));\n       \n  }\n\n  const handleButtonClick = (event) => {\n    const id = event.target.value;\n    const name = event.target.name\n    if (window.confirm(`Delete ${name}`)) {\n    personService\n          .remove(id)\n          .catch(error => {\n           stMessage(`Information of ${name} has already been removed from the server`,\"error\");\n            setPersons(persons.filter(n=>n.id!==id));\n          });\n    setPersons(persons.filter((person) => person.id !== Number(id)));\n\n        }\n      }\n\n  const personsToShow = \n    searchName === \"\"\n        ? persons\n        : searchArr;\n\n        return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification \n              message = {message}\n              clss = {messageClass} \n              />\n      <Filter \n              searchName = {searchName}\n              handleSearch = {handleSearch}\n              />\n      <h3>Add a new</h3>\n      <PersonForm \n                  addName = {addName} \n                  handleNumberChange = {handleNumberChange}\n                  handleNameChange = {handleNameChange}\n                  newName = {newName}\n                  newNo = {newNo}\n                  />\n      <h3>Numbers</h3>\n      <Persons \n                personsToShow = {personsToShow}\n                handleButtonClick = {handleButtonClick} \n                />\n\n    </div>\n  );\n}\n\n\nexport default App;\n","import App from './App'\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}